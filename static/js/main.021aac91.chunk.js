(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},33:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),c=a(12),i=a(1),s=(a(27),a(21)),d=a(7),p=a(8),m=a(10),u=a(9),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getSelectedElement=function(){var e,t,a=Object(s.a)(document.getElementById("result-list").children);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.classList.contains("selected")){e=n;break}}}catch(r){a.e(r)}finally{a.f()}return{cityName:e.dataset.cityName,coordinates:{lat:e.dataset.coordinatesLat,long:e.dataset.coordinatesLong}}},n.onChange=function(e){var t=e.currentTarget.value;fetch("https://nodejs-295719.ew.r.appspot.com/city?"+t).then((function(e){return e.json()})).then((function(e){var a=[],r=[],o=[];e.results.forEach((function(e){"street-square"!==e.category&&(a.push(e.title),r.push(e.distance),o.push(e.position))})),n.setState({selected:-1,suggestions:a,show:!0,input:t,coordinates:o})}))},n.onClick=function(e,t,a,r){n.props.history.push("/weather/"+t+"&"+a+"&"+r)},n.onKeyDown=function(e){40!==e.keyCode&&38!==e.keyCode&&e.keyCode},n.scrollToSelected=function(e){document.getElementById(e).childNodes.forEach((function(e){e.classList.contains("selected")&&!n.isInViewport(e)&&e.scrollIntoView(!0)}))},n.isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},n.state={suggestions:[],coordinates:[],show:!1,input:"",selectedCoordinates:null},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){this.scrollToSelected("result-list")}},{key:"render",value:function(){var e=this,t=[];return this.state.suggestions.forEach((function(a,n){t.push(r.a.createElement("li",{"data-coordinates-lat":e.state.coordinates[n][0],"data-coordinates-long":e.state.coordinates[n][1],className:a===e.state.input?"list-group-item selected":"list-group-item",onClick:function(t){return e.onClick(t,a,e.state.coordinates[n][0],e.state.coordinates[n][1])},key:a+n},a))})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text rounded-0",id:"basic-addon1"},r.a.createElement("i",{className:"fas fa-search fa-xs"}))),r.a.createElement("input",{className:"tiny"===this.props.size?"form-control rounded-0 tiny":"form-control rounded-0",type:"text",placeholder:"City","aria-label":"City",onChange:this.onChange,onKeyDown:this.onKeyDown})),r.a.createElement("ul",{id:"result-list",className:"tiny"===this.props.size?"list-group position-absolute rounded-0 tiny":"list-group rounded-0 position-absolute"},t))}}]),a}(n.Component),h=Object(i.f)(f);a(33);var g=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"bg-image"}),r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row align-items-center h-90"},r.a.createElement("div",{className:"col-10 mx-auto"},r.a.createElement("p",{className:"h2 text-center text-white"},r.a.createElement("strong",null,"Check how the weather looks like",r.a.createElement("br",null),"in the rest of the world")),r.a.createElement("p",{className:"lead text-center text-white mb-5"},"This is a collection of data about temperatures and precipitations, that has been",r.a.createElement("br",null),"recorded in the last 30 years, around the world."),r.a.createElement(h,null)))))},v=a(11),b=a.n(v),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={stats:{start:"",end:"",executionTime:"",generatedTime:"",source:""}},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.createGraph()}},{key:"componentDidUpdate",value:function(){this.createGraph()}},{key:"getSnapshotBeforeUpdate",value:function(){return!0}},{key:"createGraph",value:function(){var e=document.location.pathname.replace("/","").split("&")[1],t=document.location.pathname.replace("/","").split("&")[2];fetch("https://nodejs-295719.ew.r.appspot.com/stats?lat="+e+"&long="+t).then((function(e){return e.json()})).then((function(e){b.a.defaults.global.legend.display=!1;var t=document.getElementById("averageTemperatureChart"),a=document.getElementById("maxTemperatureChart"),n=document.getElementById("minTemperatureChart"),r=document.getElementById("precipitationChart"),o=t.getContext("2d").createLinearGradient(0,0,0,150);o.addColorStop(0,"rgba(250,174,50,1)"),o.addColorStop(1,"rgba(250,174,50,0)");var l=a.getContext("2d").createLinearGradient(0,0,0,150);l.addColorStop(0,"rgba(249,107,46,1)"),l.addColorStop(1,"rgba(250,174,50,0.45)");var c=n.getContext("2d").createLinearGradient(0,0,0,300);c.addColorStop(0,"rgba(50,178,250,1)"),c.addColorStop(1,"rgba(185,46,249,0.1)"),new b.a(t,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Temperature",fillColor:o,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:o,data:[e.data[0].tavg,e.data[1].tavg,e.data[2].tavg,e.data[3].tavg,e.data[4].tavg,e.data[5].tavg,e.data[6].tavg,e.data[7].tavg,e.data[8].tavg,e.data[9].tavg,e.data[10].tavg,e.data[11].tavg],fill:"start"}]},options:{scales:{yAxes:[{ticks:{display:!0},gridLines:{drawBorder:!1}}],xAxes:[{gridLines:{drawBorder:!1}}]},layout:{padding:{left:-5}}}}),new b.a(a,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Max Temperature",fillColor:l,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:l,borderColor:l,data:[e.data[0].tmax,e.data[1].tmax,e.data[2].tmax,e.data[3].tmax,e.data[4].tmax,e.data[5].tmax,e.data[6].tmax,e.data[7].tmax,e.data[8].tmax,e.data[9].tmax,e.data[10].tmax,e.data[11].tmax],fill:!1}]},options:{layout:{padding:{left:-5}}}}),new b.a(n,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Min Temperature",fillColor:c,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:c,borderColor:c,data:[e.data[0].tmin,e.data[1].tmin,e.data[2].tmin,e.data[3].tmin,e.data[4].tmin,e.data[5].tmin,e.data[6].tmin,e.data[7].tmin,e.data[8].tmin,e.data[9].tmin,e.data[10].tmin,e.data[11].tmin],fill:!1}]},options:{layout:{padding:{left:-5}}}}),new b.a(r,{type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average precipitation",borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",data:[e.data[0].prcp,e.data[1].prcp,e.data[2].prcp,e.data[3].prcp,e.data[4].prcp,e.data[5].prcp,e.data[6].prcp,e.data[7].prcp,e.data[8].prcp,e.data[9].prcp,e.data[10].prcp,e.data[11].prcp]}]},options:{layout:{padding:{left:-5}}}})}))}},{key:"render",value:function(){var e=decodeURIComponent(document.location.pathname.replace("/weather/","").split("&")[0]),t=document.location.pathname.replace("/","").split("&")[1],a=document.location.pathname.replace("/","").split("&")[2];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row align-items-center h-90",key:Date.now()},r.a.createElement("div",{className:"col-9 mx-auto card border-0 chart-card"},r.a.createElement("div",{className:"card-body p-2 pb-0"},r.a.createElement("p",{className:"display-3 align-self-end compensate-left"},e),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("p",{className:"align-self-end pb-2"},t,"\xb0 ",a,"\xb0"))),r.a.createElement("div",{className:"classic-tabs p-2"},r.a.createElement("div",{className:"tab-content rounded-bottom"},r.a.createElement("p",{className:"display-5 text-muted align-self-end"},"Average Temperature"),r.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1001",role:"tabpanel"},r.a.createElement("canvas",{id:"averageTemperatureChart"})),r.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Max Temperature"),r.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1002",role:"tabpanel"},r.a.createElement("canvas",{id:"maxTemperatureChart"})),r.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Min Temperature"),r.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1003",role:"tabpanel"},r.a.createElement("canvas",{id:"minTemperatureChart"})),r.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Average Precipitations"),r.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1004",role:"tabpanel"},r.a.createElement("canvas",{id:"precipitationChart"})))))))}}]),a}(n.Component),y=Object(i.f)(E),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){e.props.history.push("/weather")},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row position-absolute mb-4 h-100"},r.a.createElement("div",{className:"col mx-auto my-auto"},r.a.createElement("i",{className:"position-fixed fas fa-chevron-left fa-2x text-muted ml-4 previous-btn",onClick:this.onClick})))}}]),a}(n.Component),w=Object(i.f)(C);var x=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(w,null),r.a.createElement("div",{className:"container h-100"},r.a.createElement(y,{cityName:decodeURIComponent(document.location.pathname.replace("/","").split("&")[0]),lat:document.location.pathname.replace("/","").split("&")[1],long:document.location.pathname.replace("/","").split("&")[2]})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,strict:!0,path:"/Weather/(.*.{1,})"},r.a.createElement(x,null)),r.a.createElement(i.a,null,r.a.createElement(g,null))))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.021aac91.chunk.js.map