(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},33:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),l=a.n(r),s=a(9),i=a(1),c=(a(27),a(21)),d=a(10),p=a(11),m=a(13),u=a(12),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getSelectedElement=function(){var e,t,a=Object(c.a)(document.getElementById("result-list").children);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.classList.contains("selected")){e=n;break}}}catch(o){a.e(o)}finally{a.f()}return{cityName:e.dataset.cityName,coordinates:{lat:e.dataset.coordinatesLat,long:e.dataset.coordinatesLong}}},n.onChange=function(e){var t=e.currentTarget.value;fetch("https://nodejs-295719.ew.r.appspot.com/city?"+t).then((function(e){return e.json()})).then((function(e){var a=[],o=[],r=[];e.results.forEach((function(e){"street-square"!==e.category&&(a.push(e.title),o.push(e.distance),r.push(e.position))})),n.setState({selected:-1,suggestions:a,show:!0,input:t,coordinates:r})}))},n.onClick=function(e,t,a,o){n.props.history.push("/"+t+"&"+a+"&"+o)},n.onKeyDown=function(e){if(40===e.keyCode){if(n.state.suggestions.length-1===n.state.selected)return;return e.target.value=n.state.suggestions[n.state.selected+1],void n.setState({selected:n.state.selected+1,show:!1,input:n.state.suggestions[n.state.selected+1]})}if(38===e.keyCode){if(0===n.state.selected)return;return e.target.value=n.state.suggestions[n.state.selected-1],void n.setState({selected:n.state.selected-1,show:!1,input:n.state.suggestions[n.state.selected-1]})}13!==e.keyCode||n.props.history.push(document.location.pathname+n.state.suggestions[n.state.selected]+"&"+n.state.coordinates[n.state.selected][0]+"&"+n.state.coordinates[n.state.selected][1])},n.state={suggestions:[],coordinates:[],show:!1,input:"",selectedCoordinates:null},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.state.suggestions.forEach((function(a,n){t.push(o.a.createElement("li",{"data-coordinates-lat":e.state.coordinates[n][0],"data-coordinates-long":e.state.coordinates[n][1],className:a===e.state.input?"list-group-item selected":"list-group-item",onClick:function(t){return e.onClick(t,a,e.state.coordinates[n][0],e.state.coordinates[n][1])},key:a+n},a))})),o.a.createElement(n.Fragment,null,o.a.createElement("input",{className:"tiny"===this.props.size?"form-control transparent tiny":"form-control transparent",type:"text",placeholder:"City","aria-label":"City",onChange:this.onChange,onKeyDown:this.onKeyDown}),o.a.createElement("ul",{id:"result-list",className:"tiny"===this.props.size?"list-group position-absolute tiny":"list-group position-absolute"},t))}}]),a}(n.Component),f=Object(i.f)(g);a(33);var h=function(){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"bg-image"},o.a.createElement("div",{className:"container h-100 z-1"},o.a.createElement("div",{className:"row align-items-center h-100"},o.a.createElement("div",{className:"col-10 mx-auto"},o.a.createElement(f,null))))))},v=a(7),b=a.n(v),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={stats:{start:"",end:"",executionTime:"",generatedTime:"",source:""}},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){console.log("ComponentWillUnmount()")}},{key:"componentDidMount",value:function(){console.log("ComponentDidMount()"),this.createGraph()}},{key:"componentDidUpdate",value:function(){this.createGraph(),console.log("componentDidUpdate()")}},{key:"getSnapshotBeforeUpdate",value:function(){return!0}},{key:"createGraph",value:function(){var e=document.location.pathname.replace("/","").split("&")[1],t=document.location.pathname.replace("/","").split("&")[2];fetch("https://nodejs-295719.ew.r.appspot.com/stats?lat="+e+"&long="+t).then((function(e){return e.json()})).then((function(e){console.log(e.meta),b.a.defaults.global.legend.display=!1;var t=document.getElementById("averageTemperatureChart"),a=document.getElementById("maxTemperatureChart"),n=document.getElementById("minTemperatureChart"),o=document.getElementById("precipitationChart"),r=t.getContext("2d").createLinearGradient(0,0,0,150);r.addColorStop(0,"rgba(250,174,50,1)"),r.addColorStop(1,"rgba(250,174,50,0)");var l=a.getContext("2d").createLinearGradient(0,0,0,150);l.addColorStop(0,"rgba(249,107,46,1)"),l.addColorStop(1,"rgba(250,174,50,0.45)");var s=n.getContext("2d").createLinearGradient(0,0,0,300);s.addColorStop(0,"rgba(50,178,250,1)"),s.addColorStop(1,"rgba(185,46,249,0.1)"),new b.a(t,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Temperature",fillColor:r,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:r,data:[e.data[0].tavg,e.data[1].tavg,e.data[2].tavg,e.data[3].tavg,e.data[4].tavg,e.data[5].tavg,e.data[6].tavg,e.data[7].tavg,e.data[8].tavg,e.data[9].tavg,e.data[10].tavg,e.data[11].tavg],fill:"start"}]},options:{scales:{yAxes:[{ticks:{display:!0},gridLines:{drawBorder:!1}}],xAxes:[{gridLines:{drawBorder:!1}}]},layout:{padding:{left:-5}}}}),new b.a(a,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Max Temperature",fillColor:l,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:l,borderColor:l,data:[e.data[0].tmax,e.data[1].tmax,e.data[2].tmax,e.data[3].tmax,e.data[4].tmax,e.data[5].tmax,e.data[6].tmax,e.data[7].tmax,e.data[8].tmax,e.data[9].tmax,e.data[10].tmax,e.data[11].tmax],fill:!1}]},options:{layout:{padding:{left:-5}}}}),new b.a(n,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average Min Temperature",fillColor:s,strokeColor:"#ff6c23",pointColor:"#fff",pointStrokeColor:"#ff6c23",pointHighlightFill:"#fff",pointHighlightStroke:"#ff6c23",backgroundColor:s,borderColor:s,data:[e.data[0].tmin,e.data[1].tmin,e.data[2].tmin,e.data[3].tmin,e.data[4].tmin,e.data[5].tmin,e.data[6].tmin,e.data[7].tmin,e.data[8].tmin,e.data[9].tmin,e.data[10].tmin,e.data[11].tmin],fill:!1}]},options:{layout:{padding:{left:-5}}}}),new b.a(o,{type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Average precipitation",borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",data:[e.data[0].prcp,e.data[1].prcp,e.data[2].prcp,e.data[3].prcp,e.data[4].prcp,e.data[5].prcp,e.data[6].prcp,e.data[7].prcp,e.data[8].prcp,e.data[9].prcp,e.data[10].prcp,e.data[11].prcp]}]},options:{layout:{padding:{left:-5}}}})}))}},{key:"render",value:function(){console.log("Component is rendering\n");var e=decodeURIComponent(document.location.pathname.replace("/weather/","").split("&")[0]),t=document.location.pathname.replace("/","").split("&")[1],a=document.location.pathname.replace("/","").split("&")[2];return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"row align-items-center h-100",key:Date.now()},o.a.createElement("div",{className:"col-8 mx-auto card chart-card border-0"},o.a.createElement("div",{className:"card-body p-2 pb-0"},o.a.createElement("p",{className:"align-self-end float-right"},o.a.createElement(f,{size:"tiny"})),o.a.createElement("p",{className:"display-3 align-self-end compensate-left"},e),o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("p",{className:"align-self-end pb-2"},t,"\xb0 ",a,"\xb0"))),o.a.createElement("div",{className:"classic-tabs p-2"},o.a.createElement("div",{className:"tab-content rounded-bottom"},o.a.createElement("p",{className:"display-5 text-muted align-self-end"},"Average Temperature"),o.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1001",role:"tabpanel"},o.a.createElement("canvas",{id:"averageTemperatureChart"})),o.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Max Temperature"),o.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1002",role:"tabpanel"},o.a.createElement("canvas",{id:"maxTemperatureChart"})),o.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Min Temperature"),o.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1003",role:"tabpanel"},o.a.createElement("canvas",{id:"minTemperatureChart"})),o.a.createElement("p",{className:"display-5 text-muted align-self-end mt-5"},"Average Precipitations"),o.a.createElement("div",{className:"tab-pane fade in show active",id:"panel1004",role:"tabpanel"},o.a.createElement("canvas",{id:"precipitationChart"})))))))}}]),a}(n.Component),C=Object(i.f)(y);var E=function(e){return console.log("test1"),console.log(document.location.pathname),o.a.createElement("div",{className:"container h-100"},o.a.createElement(C,{cityName:decodeURIComponent(document.location.pathname.replace("/","").split("&")[0]),lat:document.location.pathname.replace("/","").split("&")[1],long:document.location.pathname.replace("/","").split("&")[2]}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,strict:!0,path:"/weather/(.*.{1,})"},o.a.createElement(E,null)),o.a.createElement(i.a,null,o.a.createElement(h,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.810863fe.chunk.js.map